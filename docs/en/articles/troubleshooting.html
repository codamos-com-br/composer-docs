<!DOCTYPE HTML>
<html lang="pt-br" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Troubleshooting - Composer - PT-BR</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">Book</li><li class="chapter-item expanded "><a href="../../en/00-intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../../en/01-basic-usage.html"><strong aria-hidden="true">2.</strong> Basic usage</a></li><li class="chapter-item expanded "><a href="../../en/02-libraries.html"><strong aria-hidden="true">3.</strong> Libraries</a></li><li class="chapter-item expanded "><a href="../../en/03-cli.html"><strong aria-hidden="true">4.</strong> CLI</a></li><li class="chapter-item expanded "><a href="../../en/04-schema.html"><strong aria-hidden="true">5.</strong> Schema</a></li><li class="chapter-item expanded "><a href="../../en/05-repositories.html"><strong aria-hidden="true">6.</strong> Repositories</a></li><li class="chapter-item expanded "><a href="../../en/06-config.html"><strong aria-hidden="true">7.</strong> Config</a></li><li class="chapter-item expanded "><a href="../../en/07-runtime.html"><strong aria-hidden="true">8.</strong> Runtime</a></li><li class="chapter-item expanded "><a href="../../en/08-community.html"><strong aria-hidden="true">9.</strong> Community</a></li><li class="chapter-item expanded affix "><li class="part-title">Articles</li><li class="chapter-item expanded "><a href="../../en/articles/aliases.html"><strong aria-hidden="true">10.</strong> Aliases</a></li><li class="chapter-item expanded "><a href="../../en/articles/authentication-for-private-packages.html"><strong aria-hidden="true">11.</strong> Authentication for privately hosted packages and repositories</a></li><li class="chapter-item expanded "><a href="../../en/articles/autoloader-optimization.html"><strong aria-hidden="true">12.</strong> Autoloader optimization</a></li><li class="chapter-item expanded "><a href="../../en/articles/composer-platform-dependencies.html"><strong aria-hidden="true">13.</strong> Composer platform dependencies</a></li><li class="chapter-item expanded "><a href="../../en/articles/custom-installers.html"><strong aria-hidden="true">14.</strong> Setting up and using custom installers</a></li><li class="chapter-item expanded "><a href="../../en/articles/handling-private-packages.html"><strong aria-hidden="true">15.</strong> Handling private packages</a></li><li class="chapter-item expanded "><a href="../../en/articles/plugins.html"><strong aria-hidden="true">16.</strong> Setting up and using plugins</a></li><li class="chapter-item expanded "><a href="../../en/articles/repository-priorities.html"><strong aria-hidden="true">17.</strong> Repository priorities</a></li><li class="chapter-item expanded "><a href="../../en/articles/resolving-merge-conflicts.html"><strong aria-hidden="true">18.</strong> Resolving merge conflicts</a></li><li class="chapter-item expanded "><a href="../../en/articles/scripts.html"><strong aria-hidden="true">19.</strong> Scripts</a></li><li class="chapter-item expanded "><a href="../../en/articles/troubleshooting.html" class="active"><strong aria-hidden="true">20.</strong> Troubleshooting</a></li><li class="chapter-item expanded "><a href="../../en/articles/vendor-binaries.html"><strong aria-hidden="true">21.</strong> Vendor binaries and the vendor/bin directory</a></li><li class="chapter-item expanded "><a href="../../en/articles/versions.html"><strong aria-hidden="true">22.</strong> Versions and constraints</a></li><li class="chapter-item expanded affix "><li class="part-title">FAQs</li><li class="chapter-item expanded "><a href="../../en/faqs/how-do-i-install-a-package-to-a-custom-path-for-my-framework.html"><strong aria-hidden="true">23.</strong> How do I install a package to a custom path for my framework?</a></li><li class="chapter-item expanded "><a href="../../en/faqs/how-to-install-composer-programmatically.html"><strong aria-hidden="true">24.</strong> How do I install Composer programmatically?</a></li><li class="chapter-item expanded "><a href="../../en/faqs/how-to-install-untrusted-packages-safely.html"><strong aria-hidden="true">25.</strong> How do I install untrusted packages safely? Is it safe to run Composer as superuser or root?</a></li><li class="chapter-item expanded "><a href="../../en/faqs/should-i-commit-the-dependencies-in-my-vendor-directory.html"><strong aria-hidden="true">26.</strong> Should I commit the dependencies in my vendor directory?</a></li><li class="chapter-item expanded "><a href="../../en/faqs/which-version-numbering-system-does-composer-itself-use.html"><strong aria-hidden="true">27.</strong> Which version numbering system does Composer itself use?</a></li><li class="chapter-item expanded "><a href="../../en/faqs/why-are-unbound-version-constraints-a-bad-idea.html"><strong aria-hidden="true">28.</strong> Why are unbound version constraints a bad idea?</a></li><li class="chapter-item expanded "><a href="../../en/faqs/why-are-version-constraints-combining-comparisons-and-wildcards-a-bad-idea.html"><strong aria-hidden="true">29.</strong> Why are version constraints combining comparisons and wildcards a bad idea?</a></li><li class="chapter-item expanded "><a href="../../en/faqs/why-cant-composer-load-repositories-recursively.html"><strong aria-hidden="true">30.</strong> Why can't Composer load repositories recursively?</a></li><li class="chapter-item expanded affix "><li class="part-title">API Docs</li><li class="chapter-item expanded "><div><strong aria-hidden="true">31.</strong> API Docs</div></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Composer - PT-BR</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!--
    tagline: Solving problems
-->
<h1 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h1>
<p>This is a list of common pitfalls on using Composer, and how to avoid them.</p>
<h2 id="general"><a class="header" href="#general">General</a></h2>
<ol>
<li>
<p>When facing any kind of problems using Composer, be sure to <strong>work with the
latest version</strong>. See <a href="../03-cli.html#self-update">self-update</a> for details.</p>
</li>
<li>
<p>Before asking anyone, run <a href="../03-cli.html#diagnose"><code>composer diagnose</code></a> to check
for common problems. If it all checks out, proceed to the next steps.</p>
</li>
<li>
<p>Make sure you have no problems with your setup by running the installer's
checks via <code>curl -sS https://getcomposer.org/installer | php -- --check</code>.</p>
</li>
<li>
<p>Try clearing Composer's cache by running <code>composer clear-cache</code>.</p>
</li>
<li>
<p>Ensure you're <strong>installing vendors straight from your <code>composer.json</code></strong> via
<code>rm -rf vendor &amp;&amp; composer update -v</code> when troubleshooting, excluding any
possible interferences with existing vendor installations or <code>composer.lock</code>
entries.</p>
</li>
</ol>
<h2 id="package-not-found"><a class="header" href="#package-not-found">Package not found</a></h2>
<ol>
<li>
<p>Double-check you <strong>don't have typos</strong> in your <code>composer.json</code> or repository
branches and tag names.</p>
</li>
<li>
<p>Be sure to <strong>set the right
<a href="../04-schema.html#minimum-stability">minimum-stability</a></strong>. To get started or be
sure this is no issue, set <code>minimum-stability</code> to &quot;dev&quot;.</p>
</li>
<li>
<p>Packages <strong>not coming from <a href="https://packagist.org/">Packagist</a></strong> should
always be <strong>defined in the root package</strong> (the package depending on all
vendors).</p>
</li>
<li>
<p>Use the <strong>same vendor and package name</strong> throughout all branches and tags of
your repository, especially when maintaining a third party fork and using
<code>replace</code>.</p>
</li>
<li>
<p>If you are updating to a recently published version of a package, be aware that
Packagist has a delay of up to 1 minute before new packages are visible to Composer.</p>
</li>
<li>
<p>If you are updating a single package, it may depend on newer versions itself.
In this case add the <code>--with-dependencies</code> argument <strong>or</strong> add all dependencies which
need an update to the command.</p>
</li>
</ol>
<h2 id="package-is-not-updating-to-the-expected-version"><a class="header" href="#package-is-not-updating-to-the-expected-version">Package is not updating to the expected version</a></h2>
<p>Try running <code>php composer.phar why-not [package-name] [expected-version]</code>.</p>
<h2 id="dependencies-on-the-root-package"><a class="header" href="#dependencies-on-the-root-package">Dependencies on the root package</a></h2>
<p>When your root package depends on a package which ends up depending (directly or
indirectly) back on the root package itself, issues can occur in two cases:</p>
<ol>
<li>
<p>During development, if you are on a branch like <code>dev-main</code> and the branch has no
<a href="aliases.html#branch-alias">branch-alias</a> defined, and the dependency on the root package
requires version <code>^2.0</code> for example, the <code>dev-main</code> version will not satisfy it.
The best solution here is to make sure you first define a branch alias.</p>
</li>
<li>
<p>In CI (Continuous Integration) runs, the problem might be that Composer is not able
to detect the version of the root package properly. If it is a git clone it is
generally alright and Composer will detect the version of the current branch,
but some CIs do shallow clones so that process can fail when testing pull requests
and feature branches. In these cases the branch alias may then not be recognized.
The best solution is to define the version you are on via an environment variable
called COMPOSER_ROOT_VERSION. You set it to <code>dev-main</code> for example to define
the root package's version as <code>dev-main</code>.
Use for example: <code>COMPOSER_ROOT_VERSION=dev-main composer install</code> to export
the variable only for the call to composer, or you can define it globally in the
CI env vars.</p>
</li>
</ol>
<h2 id="package-not-found-in-a-jenkins-build"><a class="header" href="#package-not-found-in-a-jenkins-build">Package not found in a Jenkins-build</a></h2>
<ol>
<li>
<p>Check the <a href="#package-not-found">&quot;Package not found&quot;</a> item above.</p>
</li>
<li>
<p>The git-clone / checkout within Jenkins leaves the branch in a &quot;detached HEAD&quot;-state. As
a result, Composer may not able to identify the version of the current checked out branch
and may not be able to resolve a <a href="#dependencies-on-the-root-package">dependency on the root package</a>.
To solve this problem, you can use the &quot;Additional Behaviours&quot; -&gt; &quot;Check out to specific local
branch&quot; in your Git-settings for your Jenkins-job, where your &quot;local branch&quot; shall be the same
branch as you are checking out. Using this, the checkout will not be in detached state any more
and the dependency on the root package should become satisfied.</p>
</li>
</ol>
<h2 id="i-have-a-dependency-which-contains-a-repositories-definition-in-its-composerjson-but-it-seems-to-be-ignored"><a class="header" href="#i-have-a-dependency-which-contains-a-repositories-definition-in-its-composerjson-but-it-seems-to-be-ignored">I have a dependency which contains a &quot;repositories&quot; definition in its composer.json, but it seems to be ignored.</a></h2>
<p>The <a href="../04-schema.html#repositories"><code>repositories</code></a> configuration property is defined as <a href="../04-schema.html#root-package">root-only</a>. It is not inherited. You can read more about the reasons behind this in the &quot;<a href="../faqs/why-cant-composer-load-repositories-recursively.html">why can't
Composer load repositories recursively?</a>&quot; article.
The simplest work-around to this limitation, is moving or duplicating the <code>repositories</code> definition into your root
composer.json.</p>
<h2 id="i-have-locked-a-dependency-to-a-specific-commit-but-get-unexpected-results"><a class="header" href="#i-have-locked-a-dependency-to-a-specific-commit-but-get-unexpected-results">I have locked a dependency to a specific commit but get unexpected results.</a></h2>
<p>While Composer supports locking dependencies to a specific commit using the <code>#commit-ref</code> syntax, there are certain
caveats that one should take into account. The most important one is <a href="../04-schema.html#package-links">documented</a>, but
frequently overlooked:</p>
<blockquote>
<p><strong>Note:</strong> While this is convenient at times, it should not be how you use
packages in the long term because it comes with a technical limitation. The
composer.json metadata will still be read from the branch name you specify
before the hash. Because of that in some cases it will not be a practical
workaround, and you should always try to switch to tagged releases as soon
as you can.</p>
</blockquote>
<p>There is no simple work-around to this limitation. It is therefore strongly recommended that you do not use it.</p>
<h2 id="need-to-override-a-package-version"><a class="header" href="#need-to-override-a-package-version">Need to override a package version</a></h2>
<p>Let's say your project depends on package A, which in turn depends on a specific
version of package B (say 0.1). But you need a different version of said package B (say 0.11).</p>
<p>You can fix this by aliasing version 0.11 to 0.1:</p>
<p>composer.json:</p>
<pre><code class="language-json">{
    &quot;require&quot;: {
        &quot;A&quot;: &quot;0.2&quot;,
        &quot;B&quot;: &quot;0.11 as 0.1&quot;
    }
}
</code></pre>
<p>See <a href="aliases.html">aliases</a> for more information.</p>
<h2 id="figuring-out-where-a-config-value-came-from"><a class="header" href="#figuring-out-where-a-config-value-came-from">Figuring out where a config value came from</a></h2>
<p>Use <code>php composer.phar config --list --source</code> to see where each config value originated from.</p>
<h2 id="memory-limit-errors"><a class="header" href="#memory-limit-errors">Memory limit errors</a></h2>
<p>The first thing to do is to make sure you are running Composer 2, and if possible 2.2.0 or above.</p>
<p>Composer 1 used much more memory and upgrading to the latest version will give you much better and faster results.</p>
<p>Composer may sometimes fail on some commands with this message:</p>
<p><code>PHP Fatal error:  Allowed memory size of XXXXXX bytes exhausted &lt;...&gt;</code></p>
<p>In this case, the PHP <code>memory_limit</code> should be increased.</p>
<blockquote>
<p><strong>Note:</strong> Composer internally increases the <code>memory_limit</code> to <code>1.5G</code>.</p>
</blockquote>
<p>To get the current <code>memory_limit</code> value, run:</p>
<pre><code class="language-sh">php -r &quot;echo ini_get('memory_limit').PHP_EOL;&quot;
</code></pre>
<p>Try increasing the limit in your <code>php.ini</code> file (ex. <code>/etc/php5/cli/php.ini</code> for
Debian-like systems):</p>
<pre><code class="language-ini">; Use -1 for unlimited or define an explicit value like 2G
memory_limit = -1
</code></pre>
<p>Composer also respects a memory limit defined by the <code>COMPOSER_MEMORY_LIMIT</code> environment variable:</p>
<pre><code class="language-sh">COMPOSER_MEMORY_LIMIT=-1 composer.phar &lt;...&gt;
</code></pre>
<p>Or, you can increase the limit with a command-line argument:</p>
<pre><code class="language-sh">php -d memory_limit=-1 composer.phar &lt;...&gt;
</code></pre>
<p>This issue can also happen on cPanel instances, when the shell fork bomb protection is activated. For more information, see the <a href="https://documentation.cpanel.net/display/68Docs/Shell+Fork+Bomb+Protection">documentation</a> of the fork bomb feature on the cPanel site.</p>
<h2 id="xdebug-impact-on-composer"><a class="header" href="#xdebug-impact-on-composer">Xdebug impact on Composer</a></h2>
<p>To improve performance when the Xdebug extension is enabled, Composer automatically restarts PHP without it.
You can override this behavior by using an environment variable: <code>COMPOSER_ALLOW_XDEBUG=1</code>.</p>
<p>Composer will always show a warning if Xdebug is being used, but you can override this with an environment variable:
<code>COMPOSER_DISABLE_XDEBUG_WARN=1</code>. If you see this warning unexpectedly, then the restart process has failed:
please report this <a href="https://github.com/composer/composer/issues">issue</a>.</p>
<h2 id="the-system-cannot-find-the-path-specified-windows"><a class="header" href="#the-system-cannot-find-the-path-specified-windows">&quot;The system cannot find the path specified&quot; (Windows)</a></h2>
<ol>
<li>Open regedit.</li>
<li>Search for an <code>AutoRun</code> key inside <code>HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor</code>,
<code>HKEY_CURRENT_USER\Software\Microsoft\Command Processor</code>
or <code>HKEY_LOCAL_MACHINE\Software\Wow6432Node\Microsoft\Command Processor</code>.</li>
<li>Check if it contains any path to a non-existent file, if it's the case, remove them.</li>
</ol>
<h2 id="api-rate-limit-and-oauth-tokens"><a class="header" href="#api-rate-limit-and-oauth-tokens">API rate limit and OAuth tokens</a></h2>
<p>Because of GitHub's rate limits on their API it can happen that Composer prompts
for authentication asking your username and password so it can go ahead with its work.</p>
<p>If you would prefer not to provide your GitHub credentials to Composer you can
manually create a token using the <a href="authentication-for-private-packages.html#github-oauth">procedure documented here</a>.</p>
<p>Now Composer should install/update without asking for authentication.</p>
<h2 id="proc_open-fork-failed-errors"><a class="header" href="#proc_open-fork-failed-errors">proc_open(): fork failed errors</a></h2>
<p>If Composer shows proc_open() fork failed on some commands:</p>
<p><code>PHP Fatal error: Uncaught exception 'ErrorException' with message 'proc_open(): fork failed - Cannot allocate memory' in phar</code></p>
<p>This could be happening because the VPS runs out of memory and has no Swap space enabled.</p>
<pre><code class="language-sh">free -m

total used free shared buffers cached
Mem: 2048 357 1690 0 0 237
-/+ buffers/cache: 119 1928
Swap: 0 0 0
</code></pre>
<p>To enable the swap you can use for example:</p>
<pre><code class="language-sh">/bin/dd if=/dev/zero of=/var/swap.1 bs=1M count=1024
/sbin/mkswap /var/swap.1
/bin/chmod 0600 /var/swap.1
/sbin/swapon /var/swap.1
</code></pre>
<p>You can make a permanent swap file following this <a href="https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04">tutorial</a>.</p>
<h2 id="proc_open-failed-to-open-stream-errors-windows"><a class="header" href="#proc_open-failed-to-open-stream-errors-windows">proc_open(): failed to open stream errors (Windows)</a></h2>
<p>If Composer shows proc_open(NUL) errors on Windows:</p>
<p><code>proc_open(NUL): failed to open stream: No such file or directory</code></p>
<p>This could be happening because you are working in a <em>OneDrive</em> directory and
using a version of PHP that does not support the file system semantics of this
service. The issue was fixed in PHP 7.2.23 and 7.3.10.</p>
<p>Alternatively it could be because the Windows Null Service is not enabled. For
more information, see this <a href="https://github.com/composer/composer/issues/7186#issuecomment-373134916">issue</a>.</p>
<h2 id="degraded-mode"><a class="header" href="#degraded-mode">Degraded Mode</a></h2>
<p>Due to some intermittent issues on Travis and other systems, we introduced a
degraded network mode which helps Composer finish successfully but disables
a few optimizations. This is enabled automatically when an issue is first
detected. If you see this issue sporadically you probably don't have to worry
(a slow or overloaded network can also cause those time outs), but if it
appears repeatedly you might want to look at the options below to identify
and resolve it.</p>
<p>If you have been pointed to this page, you want to check a few things:</p>
<ul>
<li>If you are using ESET antivirus, go in &quot;Advanced Settings&quot; and disable &quot;HTTP-scanner&quot;
under &quot;web access protection&quot;</li>
<li>If you are using IPv6, try disabling it. If that solves your issues, get in touch
with your ISP or server host, the problem is not at the Packagist level but in the
routing rules between you and Packagist (i.e. the internet at large). The best way to get
these fixed is to raise awareness to the network engineers that have the power to fix it.
Take a look at the next section for IPv6 workarounds.</li>
<li>If none of the above helped, please report the error.</li>
</ul>
<h2 id="operation-timed-out-ipv6-issues"><a class="header" href="#operation-timed-out-ipv6-issues">Operation timed out (IPv6 issues)</a></h2>
<p>You may run into errors if IPv6 is not configured correctly. A common error is:</p>
<pre><code>The &quot;https://getcomposer.org/version&quot; file could not be downloaded: failed to
open stream: Operation timed out
</code></pre>
<p>We recommend you fix your IPv6 setup. If that is not possible, you can try the
following workarounds:</p>
<p><strong>Workaround Linux:</strong></p>
<p>On linux, it seems that running this command helps to make ipv4 traffic have a
higher priority than ipv6, which is a better alternative than disabling ipv6 entirely:</p>
<pre><code class="language-bash">sudo sh -c &quot;echo 'precedence ::ffff:0:0/96 100' &gt;&gt; /etc/gai.conf&quot;
</code></pre>
<p><strong>Workaround Windows:</strong></p>
<p>On windows the only way is to disable ipv6 entirely I am afraid (either in windows or in your home router).</p>
<p><strong>Workaround Mac OS X:</strong></p>
<p>Get name of your network device:</p>
<pre><code class="language-bash">networksetup -listallnetworkservices
</code></pre>
<p>Disable IPv6 on that device (in this case &quot;Wi-Fi&quot;):</p>
<pre><code class="language-bash">networksetup -setv6off Wi-Fi
</code></pre>
<p>Run Composer ...</p>
<p>You can enable IPv6 again with:</p>
<pre><code class="language-bash">networksetup -setv6automatic Wi-Fi
</code></pre>
<p>That said, if this fixes your problem, please talk to your ISP about it to
try to resolve the routing errors. That's the best way to get things resolved
for everyone.</p>
<h2 id="composer-hangs-with-ssh-controlmaster"><a class="header" href="#composer-hangs-with-ssh-controlmaster">Composer hangs with SSH ControlMaster</a></h2>
<p>When you try to install packages from a Git repository and you use the <code>ControlMaster</code>
setting for your SSH connection, Composer might hang endlessly and you see a <code>sh</code>
process in the <code>defunct</code> state in your process list.</p>
<p>The reason for this is a SSH Bug: https://bugzilla.mindrot.org/show_bug.cgi?id=1988</p>
<p>As a workaround, open a SSH connection to your Git host before running Composer:</p>
<pre><code class="language-bash">ssh -t git@mygitserver.tld
php composer.phar update
</code></pre>
<p>See also https://github.com/composer/composer/issues/4180 for more information.</p>
<h2 id="zip-archives-are-not-unpacked-correctly"><a class="header" href="#zip-archives-are-not-unpacked-correctly">Zip archives are not unpacked correctly.</a></h2>
<p>Composer can unpack zipballs using either a system-provided <code>unzip</code> or <code>7z</code> (7-Zip) utility, or PHP's
native <code>ZipArchive</code> class. On OSes where ZIP files can contain permissions and symlinks, we recommend
installing <code>unzip</code> or <code>7z</code> as these features are not supported by <code>ZipArchive</code>.</p>
<h2 id="disabling-the-pool-optimizer"><a class="header" href="#disabling-the-pool-optimizer">Disabling the pool optimizer</a></h2>
<p>In Composer, the <code>Pool</code> class contains all the packages that are relevant for the dependency
resolving process. That is what is used to generate all the rules which are then
passed on to the dependency solver.
In order to improve performance, Composer tries to optimize this <code>Pool</code> by removing useless
package information early on.</p>
<p>If all goes well, you should never notice any issues with it but in case you run into
an unexpected result such as an unresolvable set of dependencies or conflicts where you
think Composer is wrong, you might want to disable the optimizer by using the environment
variable <code>COMPOSER_POOL_OPTIMIZER</code> and run the update again like so:</p>
<pre><code class="language-bash">COMPOSER_POOL_OPTIMIZER=0 php composer.phar update
</code></pre>
<p>Now double check if the result is still the same. It will take significantly longer and use
a lot more memory to run the dependency resolving process.</p>
<p>If the result is different, you likely hit a problem in the pool optimizer.
Please <a href="https://github.com/composer/composer/issues">report this issue</a> so it can be fixed.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../en/articles/scripts.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../en/articles/vendor-binaries.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../en/articles/scripts.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../en/articles/vendor-binaries.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
